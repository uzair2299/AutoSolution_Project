@model AutoSolution.Services.ViewModel.SelectYourInterest
<div class="kt-container">
    <div class="kt-portlet">
        <div class="kt-portlet__head">
            <div class="kt-portlet__head-label" style="margin:0 auto">
                <h3 style="font-size:1.5rem" class="kt-portlet__head-title">
                    Select Your Interest
                </h3>
            </div>
        </div>
        <div class="kt-portlet__body kt-mb-50">
            <ul class="nav nav-tabs nav-fill" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#kt_tabs_1_1" style="font-size:1.3rem">Find Your Auto </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#kt_tabs_1_2" style="font-size:1.5rem">Find Your Mechanic</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="kt_tabs_1_1" role="tabpanel">
                    <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                        <div class="kt-portlet kt-portlet--mobile">
                            <div class="kt-portlet__body">
                                <!--begin: Search Form -->
                                <form class="kt-form kt-form--fit kt-margin-b-20">
                                    <div class="row kt-margin-b-20">
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.FindYourPart.SelectedVehicleManufacturer, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-car-side"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.FindYourPart.SelectedVehicleManufacturer, Model.FindYourPart.VehicleManufacturersList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.FindYourPart.SelectedVehicleModel, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-car-side"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.FindYourPart.SelectedVehicleModel, Model.FindYourPart.VehicleModelsList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.Label("Select Year", htmlAttributes: new { @class = "col-form-label" })
                                                <div class="date input-group" id="kt_datepicker_5">
                                                    @Html.EditorFor(model => model.FindYourPart.startYear, new { htmlAttributes = new { @class = "form-control datepicker", @readonly = "readonly", PlaceHolder = "Start Year" } })
                                                    <div class="input-group-append">
                                                        <span class="input-group-text"><i class="la la-ellipsis-h"></i></span>
                                                    </div>
                                                    @Html.EditorFor(model => model.FindYourPart.EndYear, new { htmlAttributes = new { @class = "form-control datepicker", @readonly = "readonly", PlaceHolder = "End Year" } })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row kt-margin-t-40">
                                        <div class="col-lg-12 text-right">
                                            <button class="btn btn-dark btn-brand--icon" id="kt_search">
                                                <span>
                                                    <i class="la la-search"></i>
                                                    <span>Search</span>
                                                </span>
                                            </button>
                                            &nbsp;&nbsp;
                                            <button class="btn btn-secondary btn-secondary--icon" id="kt_reset">
                                                <span>
                                                    <i class="la la-close"></i>
                                                    <span>Reset</span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                                <!--begin: Datatable -->
                                <!--end: Datatable -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="kt_tabs_1_2" role="tabpanel">
                    <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                        <div class="kt-portlet kt-portlet--mobile">
                            <div class="kt-portlet__body">
                                <!--begin: Search Form -->
                                <form class="kt-form kt-form--fit kt-margin-b-20">
                                    <div class="row kt-margin-b-20">
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.findYourMechanic.SelectedServiceCategory, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="flaticon2-settings"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.findYourMechanic.SelectedServiceCategory, Model.findYourMechanic.ServiceCategoryList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.findYourMechanic.SelectedProvince, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-map-marker-alt"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.findYourMechanic.SelectedProvince, Model.findYourMechanic.ProvinceList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.findYourMechanic.SelectedCity, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-map-marker-alt"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.findYourMechanic.SelectedCity, Model.findYourMechanic.CityList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.findYourMechanic.SelectedCityAreaName, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-map-marker-alt"></i></span></div>
                                                    @Html.TextBoxFor(model => model.findYourMechanic.SelectedCityAreaName, new { @class = "form-control", PlaceHolder = "Enter Your Last Name" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row kt-margin-t-40">
                                        <div class="col-lg-12 text-right">
                                            <button class="btn btn-dark btn-brand--icon" id="kt_search">
                                                <span>
                                                    <i class="la la-search"></i>
                                                    <span>Search</span>
                                                </span>
                                            </button>
                                            &nbsp;&nbsp;
                                            <button class="btn btn-secondary btn-secondary--icon" id="kt_reset">
                                                <span>
                                                    <i class="la la-close"></i>
                                                    <span>Reset</span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                                <!--begin: Datatable -->
                                <!--end: Datatable -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $('.datepicker').datepicker({

        format: "yyyy",
        viewMode: "years",
        minViewMode: "years",
        startDate: '-80y',
        autoclose: true,
        clearBtn: true

        //format: 'mm/dd/yyyy',
        //startDate: '-3d'
    });
    $(document).ready(function () {
        debugger
        $('#FindYourPart_SelectedVehicleManufacturer').change(function () {
                 debugger
                 var selectedManufacturer = $("#FindYourPart_SelectedVehicleManufacturer").val();
                 var SelectedModel = $('#FindYourPart_SelectedVehicleModel');
             SelectedModel.empty();
             if (selectedManufacturer != null && selectedManufacturer != '') {
                 $.getJSON('@Url.Action("GetModels")', { selectedManufacturerId: selectedManufacturer }, function (Moldels) {
                     if (Moldels != null && !jQuery.isEmptyObject(Moldels))
                     {
                            $.each(Moldels, function (index, model) {
                                SelectedModel.append($('<option/>',{
                                    value: model.Value,
                                    text: model.Text
                                }));
                            });
                        }
                    });
                }
            });
     });

     $(document).ready(function () {
         $('#findYourMechanic_SelectedProvince').change(function () {
             var selectedProvince = $("#findYourMechanic_SelectedProvince").val();
             var selectedCity = $('#findYourMechanic_SelectedCity');
                selectedCity.empty();
                if (selectedProvince != null && selectedProvince != '') {
                    $.getJSON('@Url.Action("GetCities")', { ProvinceId: selectedProvince }, function (cities) {
                        if (cities != null && !jQuery.isEmptyObject(cities))
                        {
                            $.each(cities, function (index, city) {
                                selectedCity.append($('<option/>', {
                                    value: city.Value,
                                    text: city.Text
                                }));
                            });
                        }
                    });
                }
            });
     });


      $(document).ready(function () {
          $('#findYourMechanic_SelectedCity').change(function () {
              var SelectedCity = $("#findYourMechanic_SelectedCity").val();
              var SelectedCityAreaName = $('#findYourMechanic_SelectedCityAreaName');
              SelectedCityAreaName.empty();
              if (SelectedCity != null && SelectedCity != '') {
                  $("#findYourMechanic_SelectedCityAreaName").autocomplete({

                       source: function (request, response) {
                           minLength: 3,
                $.ajax({
                    url: '@Url.Action("GetCityArea", "Home")',
                    //type: "POST",
                    dataType: "json",
                    data: {
                        Prefix: $("#findYourMechanic_SelectedCityAreaName").val(),
                        SelectedCityId: SelectedCity
                    },
                    success: function (data) {
                        response($.map(data.slice(0, 7), function (item) {
                            return { label: item.label, value: item.val };
                        }))

                    }
                })
                       },
                       select: function (event, ui) {
                           var label = ui.item.label;
                           var value = ui.item.value;
                       }

        });
                }
            });
    });
</script>