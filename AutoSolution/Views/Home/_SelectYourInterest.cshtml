@model AutoSolution.Services.ViewModel.FindYourMechanic
<div class="kt-container">
    <div class="kt-portlet">
        <div class="kt-portlet__head">
            <div class="kt-portlet__head-label">
                <h3 style="font-size:1.5rem" class="kt-portlet__head-title">
                    Select Your Interest
                </h3>
            </div>
        </div>
        <div class="kt-portlet__body">
            <ul class="nav nav-tabs nav-fill" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#kt_tabs_1_1" style="font-size:1.3rem">Find Your Auto </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#kt_tabs_1_2" style="font-size:1.3rem">Find Your Mechanic</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="kt_tabs_1_1" role="tabpanel">
                    <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                        <div class="kt-portlet kt-portlet--mobile">
                            <div class="kt-portlet__body">
                                <!--begin: Search Form -->
                                <form class="kt-form kt-form--fit kt-margin-b-20">
                                    <div class="row kt-margin-b-20">
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>RecordID:</label>
                                            <input type="text" id="City" class="form-control kt-input" placeholder="E.g: 4590" data-col-index="0">
                                        </div>
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>OrderID:</label>
                                            <input type="text" class="form-control kt-input" placeholder="E.g: 37000-300" data-col-index="1">
                                        </div>
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>Country:</label>
                                            <select class="form-control kt-input" data-col-index="2">
                                                <option value="">Select</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>Agent:</label>
                                            <input type="text" class="form-control kt-input" placeholder="Agent ID or name" data-col-index="4">
                                        </div>
                                    </div>
                                    <div class="row kt-margin-b-20">
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>Ship Date:</label>
                                            <div class="input-daterange input-group" id="kt_datepicker">
                                                <input type="text" class="form-control kt-input" name="start" placeholder="From" data-col-index="5">
                                                <div class="input-group-append">
                                                    <span class="input-group-text"><i class="la la-ellipsis-h"></i></span>
                                                </div>
                                                <input type="text" class="form-control kt-input" name="end" placeholder="To" data-col-index="5">
                                            </div>
                                        </div>
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>Status:</label>
                                            <select class="form-control kt-input" data-col-index="6">
                                                <option value="">Select</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-3 kt-margin-b-10-tablet-and-mobile">
                                            <label>Type:</label>
                                            <select class="form-control kt-input" data-col-index="7">
                                                <option value="">Select</option>
                                            </select>
                                        </div>
                                    </div>
                                    @*<div class="kt-separator kt-separator--md kt-separator--dashed"></div>*@
                                    <div class="row kt-margin-t-40">
                                        <div class="col-lg-12 text-right">
                                            <button class="btn btn-dark btn-brand--icon" id="kt_search">
                                                <span>
                                                    <i class="la la-search"></i>
                                                    <span>Search</span>
                                                </span>
                                            </button>
                                            &nbsp;&nbsp;
                                            <button class="btn btn-secondary btn-secondary--icon" id="kt_reset">
                                                <span>
                                                    <i class="la la-close"></i>
                                                    <span>Reset</span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </form>

                                <!--begin: Datatable -->
                                @*<div class="kt-separator kt-separator--border-dashed kt-separator--space-md"></div>*@


                                <!--end: Datatable -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="kt_tabs_1_2" role="tabpanel">
                    <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                        <div class="kt-portlet kt-portlet--mobile">
                            <div class="kt-portlet__body">
                                <!--begin: Search Form -->
                                <form class="kt-form kt-form--fit kt-margin-b-20">
                                    <div class="row kt-margin-b-20">
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.SelectedServiceCategory, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="flaticon2-settings"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.SelectedServiceCategory, Model.ServiceCategoryList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.SelectedProvince, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-map-marker-alt"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.SelectedProvince, Model.ProvinceList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.SelectedCity, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-map-marker-alt"></i></span></div>
                                                    @Html.DropDownListFor(x => Model.SelectedCity, Model.CityList as SelectList, htmlAttributes: new { @class = "form-control" })
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 kt-margin-b-10-tablet-and-mobile">
                                            <div class="form-group">
                                                @Html.LabelFor(model => model.SelectedCityAreaName, htmlAttributes: new { @class = "col-form-label" })
                                                <div class="input-group">
                                                    <div class="input-group-prepend"><span class="input-group-text"><i class="fa fa-map-marker-alt"></i></span></div>
                                                    @Html.TextBoxFor(model => model.SelectedCityAreaName, new { @class = "form-control", PlaceHolder = "Enter Your Last Name" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*<div class="kt-separator kt-separator--md kt-separator--dashed"></div>*@
                                    <div class="row kt-margin-t-40">
                                        <div class="col-lg-12 text-right">
                                            <button class="btn btn-dark btn-brand--icon" id="kt_search">
                                                <span>
                                                    <i class="la la-search"></i>
                                                    <span>Search</span>
                                                </span>
                                            </button>
                                            &nbsp;&nbsp;
                                            <button class="btn btn-secondary btn-secondary--icon" id="kt_reset">
                                                <span>
                                                    <i class="la la-close"></i>
                                                    <span>Reset</span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                                <!--begin: Datatable -->
                                @*<div class="kt-separator kt-separator--border-dashed kt-separator--space-md"></div>*@
                                <!--end: Datatable -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
     $(document).ready(function () {
            $('#SelectedProvince').change(function () {
                var selectedProvince = $("#SelectedProvince").val();
                var selectedCity = $('#SelectedCity');
                selectedCity.empty();
                if (selectedProvince != null && selectedProvince != '') {
                    $.getJSON('@Url.Action("GetCities")', { ProvinceId: selectedProvince }, function (cities) {
                        if (cities != null && !jQuery.isEmptyObject(cities))
                        {
                            $.each(cities, function (index, city) {
                                selectedCity.append($('<option/>', {
                                    value: city.Value,
                                    text: city.Text
                                }));
                            });
                        }
                    });
                }
            });
     });


      $(document).ready(function () {
          $('#SelectedCity').change(function () {
              var SelectedCity = $("#SelectedCity").val();
              var SelectedCityAreaName = $('#SelectedCityAreaName');
              SelectedCityAreaName.empty();
              if (SelectedCity != null && SelectedCity != '') {
                   $("#SelectedCityAreaName").autocomplete({

                       source: function (request, response) {
                           minLength: 3,
                $.ajax({
                    url: '@Url.Action("GetCityArea", "Home")',
                    //type: "POST",
                    dataType: "json",
                    data: {
                        Prefix: $("#SelectedCityAreaName").val(),
                        SelectedCityId: SelectedCity
                    },
                    success: function (data) {
                        response($.map(data.slice(0, 7), function (item) {
                            return { label: item.label, value: item.val };
                        }))

                    }
                })
                       },
                       select: function (event, ui) {
                           var label = ui.item.label;
                           var value = ui.item.value;
                           alert(label, value);
                       }

        });
                }
            });
    });


    @*$(document).ready(function () {
        $("#SelectedCityAreaName").autocomplete({

            source: function (request, response) {
                $.ajax({
                    url: '@Url.Action("GetCityArea", "Home")',
                    //type: "POST",
                    dataType: "json",
                    data: { Prefix: $("#SelectedCityAreaName").val()},
                    success: function (data) {
                        response($.map(data, function (item) {
                            return { label: item.label, value: item.val };
                        }))

                    }
                })
            }

        });
    })*@
</script>